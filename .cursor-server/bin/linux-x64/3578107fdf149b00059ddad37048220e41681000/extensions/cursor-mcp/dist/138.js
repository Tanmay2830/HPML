"use strict";exports.id=138,exports.ids=[138],exports.modules={69138:(n,e,t)=>{t.r(e),t.d(e,{listEnabledClaudePlugins:()=>v,loadPluginsFromClaude:()=>g,readClaudeInstalledPlugins:()=>d,readClaudeProjectSettings:()=>f,readClaudeSettings:()=>a});var i=t(51455),o=t(76760);function l(n){return n.replace(/\\/g,"/").replace(/\/+$/,"")||"/"}var r=t(82691),s=t(98500),u=function(n,e,t,i){return new(t||(t=Promise))(function(o,l){function r(n){try{u(i.next(n))}catch(n){l(n)}}function s(n){try{u(i.throw(n))}catch(n){l(n)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(r,s)}u((i=i.apply(n,e||[])).next())})};function c(n){var e;const t=null!==(e=null!=n?n:process.env.HOME)&&void 0!==e?e:"";return(0,o.join)(t,".claude")}function d(n){return u(this,void 0,void 0,function*(){const e=c(n),t=(0,o.join)(e,"plugins","installed_plugins.json");try{const n=yield(0,i.readFile)(t,"utf-8");return JSON.parse(n)}catch(n){return n.code,null}})}function a(n){return u(this,void 0,void 0,function*(){const e=c(n),t=(0,o.join)(e,"settings.json");try{const n=yield(0,i.readFile)(t,"utf-8");return JSON.parse(n)}catch(n){return n.code,null}})}function f(n){return u(this,void 0,void 0,function*(){const e={enabledPlugins:{}};let t=!1;const l=(0,o.join)(n,".claude","settings.json");try{const n=yield(0,i.readFile)(l,"utf-8"),o=JSON.parse(n);o.enabledPlugins&&(Object.assign(e.enabledPlugins,o.enabledPlugins),t=!0)}catch(n){}const r=(0,o.join)(n,".claude","settings.local.json");try{const n=yield(0,i.readFile)(r,"utf-8"),o=JSON.parse(n);o.enabledPlugins&&(Object.assign(e.enabledPlugins,o.enabledPlugins),t=!0)}catch(n){}return t?e:null})}function g(){return u(this,arguments,void 0,function*(n={}){const e=yield d(n.userHomeDir);if(!(null==e?void 0:e.plugins))return[];const t=yield a(n.userHomeDir),i=n.projectPath?(0,o.resolve)(n.projectPath):void 0,u=function(n,e,t,i){var o;const r=null==n?void 0:n.plugins;if(!r||"object"!=typeof r)return[];const s=null!==(o=null==e?void 0:e.enabledPlugins)&&void 0!==o?o:{},u={};(null==t?void 0:t.enabledPlugins)&&Object.assign(u,t.enabledPlugins);const c=void 0!==i?l(i):void 0,d=new Set,a=[];for(const[n,e]of Object.entries(r)){if(!Array.isArray(e)||0===e.length)continue;if(void 0!==c&&!1===u[n])continue;let t;void 0!==c&&(t=e.find(e=>!("project"!==e.scope&&"local"!==e.scope||!e.projectPath)&&l(e.projectPath)===c&&!0===u[n])),t||!0!==s[n]||(t=e.find(n=>"user"===n.scope)),(null==t?void 0:t.installPath)&&!d.has(n)&&(a.push({pluginId:n,installPath:t.installPath}),d.add(n))}return a}(e,t,i?yield f(i):null,i),c=[];for(const{pluginId:t,installPath:i}of u){const o=e.plugins[t],l=null==o?void 0:o.find(n=>n.installPath===i),u=null==l?void 0:l.version,d=null==l?void 0:l.gitCommitSha;try{const n=(0,r.oL)(t),e=yield(0,s.fX)(i,n,u,d);c.push(e)}catch(e){const i=e instanceof Error?e:new Error(String(e));n.onError&&n.onError(t,i)}}return c})}function v(){return u(this,arguments,void 0,function*(n={}){return function(n,e){return u(this,arguments,void 0,function*(n,e,t=!1){const i=[],o=yield a(n);if(null==o?void 0:o.enabledPlugins)for(const[n,e]of Object.entries(o.enabledPlugins))t&&!e||i.push(n);if(e){const n=yield f(e);if(null==n?void 0:n.enabledPlugins)for(const[e,o]of Object.entries(n.enabledPlugins))t&&!o||i.includes(e)||i.push(e)}return i})}(n.userHomeDir,n.projectPath,!0)})}}};
//# sourceMappingURL=http://go/sourcemap/sourcemaps/3578107fdf149b00059ddad37048220e41681000/extensions/cursor-mcp/dist/138.js.map